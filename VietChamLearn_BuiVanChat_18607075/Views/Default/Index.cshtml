@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_MyLayout.cshtml";
}
<style>
    .ui-widget-overlay {
        background: rgba(0,0,0,.25);
        opacity: 1 !important;
        /*filter: alpha(opacity=100) !important;*/
        z-index: 1049 !important;
    }

    .ui-widget-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,.25) !important;
        opacity: 1 !important;
    }

    .ui-front {
        z-index: 100;
    }

    *, :after, :before {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }

    .ui-dialog {
        padding: 2px;
        border: 1px solid #4a8ea2;
        border-radius: 3px;
        position: fixed;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%,-50%);
    }

    .ui-dialog, .ui-jqdialog {
        z-index: 1050 !important;
        background-color: #FFF;
        padding: 0;
        border: 1px solid #DDD;
        box-shadow: 0 2px 4px rgb(0 0 0 / 20%);
    }

    .ui-dialog, .ui-jqdialog, .ui-menu {
        -webkit-box-shadow: 0 2px 4px rgb(0 0 0 / 20%);
    }

    .ui-front {
        z-index: 100;
    }

    *, :after, :before {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }

    .ui-dialog .ui-dialog-titlebar {
        background-color: #648ea5 !important;
        height: 45px;
        line-height: 45px;
        position: relative;
        border: 1px solid #4a8ea2;
        border-radius: 3px;
        color: white;
    }

    .ui-dialog .ui-dialog-titlebar, .ui-dialog .ui-jqdialog-titlebar, .ui-jqdialog .ui-dialog-titlebar, .ui-jqdialog .ui-jqdialog-titlebar {
        background-color: #F1F1F1;
        font-size: 16px;
        color: #669FC7;
        padding: 0;
    }

    .ui-draggable-handle {
        -ms-touch-action: none;
        touch-action: none;
    }

    .ui-helper-clearfix {
        min-height: 0;
    }

    .ui-dialog .ui-dialog-titlebar-close {
        position: absolute;
        content: '';
        top: 50% !important;
        height: 21px;
        width: 21px;
        line-height: 21px;
        background: #ccc !important;
        transform: translateY(-50%);
    }

    .ui-dialog .ui-dialog-titlebar-close, .ui-dialog .ui-jqdialog-titlebar-close, .ui-jqdialog .ui-dialog-titlebar-close, .ui-jqdialog .ui-jqdialog-titlebar-close {
        border: none;
        background: 0 0;
        opacity: .4;
        color: #D15B47;
        padding: 0;
        top: 50%;
        right: 8px !important;
        text-align: center;
    }

    button, input, select, textarea {
        font-family: inherit;
        font-size: inherit;
        line-height: 25px;
    }

        button, html input[type=button], input[type=reset], input[type=submit] {
            -webkit-appearance: button;
            cursor: pointer;
        }

    button, select {
        text-transform: none;
    }

    button {
        overflow: visible;
    }

    button, input, optgroup, select, textarea {
        color: inherit;
        font: inherit;
        margin: 0;
    }

    *, :after, :before {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }

    user agent stylesheet
    button {
        appearance: auto;
        -webkit-writing-mode: horizontal-tb !important;
        text-rendering: auto;
        color: -internal-light-dark(black, white);
        letter-spacing: normal;
        word-spacing: normal;
        text-transform: none;
        text-indent: 0px;
        text-shadow: none;
        display: inline-block;
        text-align: center;
        align-items: flex-start;
        cursor: default;
        background-color: -internal-light-dark(rgb(239, 239, 239), rgb(59, 59, 59));
        box-sizing: border-box;
        margin: 0em;
        font: 400 13.3333px Arial;
        padding: 1px 6px;
        border-width: 2px;
        border-style: outset;
        border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));
        border-image: initial;
    }

    .ui-dialog .ui-dialog-content {
        float: left;
        width: 1000px;
    }
</style>

<div class="container">

    <div class="nav-scroller py-1 mb-2">
        <nav class="nav d-flex justify-content-between main-menu">

            <p style="font-weight: 600">
                Đề tài tốt nghiệp Khóa K18 Ban Cao Đẳng - Trường Đại Học Tôn Đức Thắng
            </p>
            <a style="margin-left: 8px; margin-right: 8px" href=""></a>

            <a href="#">
                Hướng dẫn tra cứu
            </a>


            <!--
            <a href="">
                <img title="" alt="" src="">
            </a> -->
            <!-- <a class="p-2 text-muted" href="#">Channel</a> -->
        </nav>
    </div>


    <!-- <div class="jumbotron p-3 p-md-5 text-white rounded bg-dark"> -->
    <!-- <div class="col-md-6 px-0">
        <p class="">Title of a longer featured blog post</p>
    </div> -->
    <!-- </div> -->
    <!-- <div style="margin-bottom: 15px; max-height: 90px" class="text-center">

        <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-4456823377823389"
        data-ad-slot="7595821208"
        data-ad-format="auto"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div> -->
</div>

<!-- Page content of course! -->






<div class="container">
    <div class="row">

        <div class="col-md-12">


            <button class="btn btn-primary" onclick="ocr();" style="width:120px;display: inline-flex;justify-content: center;
                            align-items: center;margin-left:2px;font-size:13px;float:right;margin-top:4px" type="submit" value="hinhanh">
                Dịch Bằng Hình Ảnh
            </button>
            @*OCR TẠI ĐÂY*@
            <div id="ocrText"></div>
            @*END OCR*@
            <!-- <hr> -->
            <!-- Nav tabs -->
            <ul class="nav nav-tabs d-flex justify-content-between" role="tablist">
                <li style="width: 33.3%;" class="nav-item">
                    <a class="nav-link active " data-toggle="tab" href="#edeviet">Từ điển Chăm - Việt</a>
                </li>
                <li style="width: 33.3%;" class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#vietede">Từ điển Việt - Chăm</a>
                </li>
                <li style="width: 33.3%;" class="nav-item">
                    <a class="nav-link " data-toggle="tab" href="#dichcau">Dịch câu Việt - Chăm</a>
                </li>
                <!-- <li class="nav-item">
                  <a class="nav-link" data-toggle="tab" href="#menu2">Menu 2</a>
                </li> -->
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
                <div id="edeviet" class="tab-pane active">

                    <div class="main-search" style="display: table; width: 100%; margin-bottom: 20px;">

                        <form class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search" autocomplete="off" action="/Default/GetWordsEdeViet" method="get" role="search">
                            <div class="input-group" style="background-color:white; margin-top:15px;margin-bottom:10px">
                                <input style="width:650px" class="form-control bg-light border-0 small " type="text" name="keyword" value="" placeholder="Nhập từ Chăm muốn tra cứu ..." id="txtKeyword" aria-label="Search" aria-describedby="basic-addon2">
                                <div class="input-group-append">
                                    <button class="btn btn-primary" type="submit"><i class="fas fa-search"></i></button>
                                </div>
                            </div>
                        </form>

                        <div id="result" class="dropdown">
                            <!-- <div id="" class="dropdown-content"><a href="#about">About</a></div> -->
                        </div>
                    </div>

                </div>
                <div id="vietede" class="tab-pane fade">

                    <div class="main-search" style="display: table; width: 100%; margin-bottom: 20px;">

                        <form class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search" autocomplete="off" action="/Default/GetWordsVietEde" method="get" role="search">
                            <div class="input-group" style="background-color:white; margin-top:15px;margin-bottom:10px">
                                <input style="width:650px" class="form-control bg-light border-0 small " type="text" name="keyword1" value="" placeholder="Nhập từ Việt muốn tra cứu ..." id="txtKeyword1" aria-label="Search" aria-describedby="basic-addon2">
                                <div class="input-group-append">
                                    <button class="btn btn-primary" type="submit"><i class="fas fa-search"></i></button>
                                </div>
                            </div>
                        </form>
                        <div id="result1" class="dropdown">
                            <!-- <div id="" class="dropdown-content"><a href="#about">About</a></div> -->
                        </div>
                    </div>

                </div>
                <div id="dichcau" class="tab-pane fade ">

                    <div class="main-search" style="display: table; width: 100%; margin-bottom: 20px;">

                        <form onsubmit="return false" class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search" autocomplete="off">
                            <div class="input-group" style="background-color:white; margin-top:15px;margin-bottom:10px">
                                @*<input style="width:650px;border:1px solid black;margin-bottom:10px" type="text" placeholder="Nhập câu..." id="txtInputTrans">*@
                                <input style="width:650px" class="form-control bg-light border-0 small " type="text" name="keyword1" value="" placeholder="Nhập câu..." id="txtInputTrans" aria-label="Search" aria-describedby="basic-addon2">
                                <input id="HidenDichCau" hidden />
                                <div class="input-group-append">
                                    <button class="btn btn-primary" id="btnDich" onclick="Trans();">Dịch</button>
                                </div>
                                <textarea id="textDich" style="height:400px;margin-top:30px" class="form-control">@ViewBag.Text</textarea>
                            </div>
                        </form>
                       
                    </div>

                </div>
                <!-- <div id="menu2" class="container tab-pane fade">
                  <h3>Menu 2</h3>
                  <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
                </div> -->
            </div>


            <hr>
            <div style="border-bottom: 1px dotted #e4e9f0;">
                <h2 style="margin: 0 0 -2px;
                 padding-bottom: 5px;
                 display: inline-block;
                 border-bottom: 2px solid #428bca; font-size: 18px;">
                    Góp ý cho chúng tôi
                </h2>
            </div>

            @*<div class="fb-comments" data-href="https://localhost:44344/"
                data-width="100%" data-numposts="5"></div>*@

            @*<div class="fb-comments" data-href="https://developers.facebook.com/docs/plugins/comments#configurator" data-width="100%" data-numposts="5"></div>*@


        </div>



        @*<aside class="col-md-4">
            <div class="p-3 mb-3 bg-light rounded">
                <img src="~/Content/IMG/trang-phuc-dan-toc-e-de-namnu-01_636866758842832824.jpg">


            </div>


        </aside>*@

    </div>

</div>
<link href="~/tessdata/vie.traineddata" />
@*<script src="~/Scripts/jquery-ui-1.10.3.min.js"></script>*@
@*<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
    integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
    crossorigin="anonymous"></script>*@
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<link href="~/Content/Styles/ocr.css" rel="stylesheet" />
@*<script src="~/Scripts/basesearch.js"></script>*@
<script type="text/javascript">
    //dich bang ảnh
    function ocr() {
        debugger

        $('#ocrText').dialog(
            {
            autoOpen: false,
            resizable: false,
            width: '90%',
            height: 'auto',
            modal: true,
            });
        $.get('@Url.Action("submitOcr", "Default")', function (html) {
                            $("#ocrText").html(html);
                        });
        //$.ajax({
        //    async: false,
        //    url: '/Default/submitOcr',
        //    dataType: "json",
        //    type: "GET",
        //    contentType: 'application/json; charset=utf-8',
        //    success: function (rs) {
        //       /* listwords = listwords;*/
        //        //sofileky = TransDone.length;
        //        //if (sofileky==0)
        //        //{
        //        //    //alert("Không có file nào đủ điều kiện ký số, hoặc chưa chọn file vui lòng kiểm tra lại");
        //        //}
        //        ////console.log('Done0' + data);
        //        ////alert(listwords)
        //        //alert(rs);
        //        /*var lisst = rs.split(" ");*/
        //        debugger
        //        /* var newrs = rs.split(',').join(' ');*/
        //        $("#TransImg").val(rs);
        //        var listss = $("#TransImg").val().replace(/\,/g, ' ');
        //        $("#TransImg").val(listss);
        //        return 1;


        //    },
        //    error: function (xhr) {
        //        alert('error' + xhr);
        //    }

        //});
        $('#ocrText').dialog('open');
        $("#ocrText").dialog("option", "title", "Dịch văn bảng bằng hình ảnh ");

    }
</script>
@*<script type="text/javascript">
        debugger
        var temr = $('#search_input1').val();
            $(document).ready(function () {
                $('#search_input1').autocomplete({
                    source: '@Url.Action("Search", "Default")'
                });
            });



    </script>*@
<script type="text/javascript">
    debugger
    $(document).ready(function() {

        $("#search_input1").autocomplete({

            source: '@Url.Action("GetWordsVieEde", "Default")',

            minLength: 1

        });
    });

</script>

<script type="text/javascript">
    debugger
    $(document).ready(function() {

        $("#search_input").autocomplete({

            source: '@Url.Action("GetWordsEdeVie", "Default")',

            minLength: 1

        });
    });

</script>
<script>
    var comom = {
        init: function () {
            comom.registerEvent();
        },
        registerEvent: function () {
            $("#txtKeyword").autocomplete({
                minLength: 0,
                source: function (request, response) {
                    $.ajax({
                        url: "/Default/ListWordEde",
                        dataType: "json",
                        data: {
                            q: request.term
                        },
                        success: function (data) {
                            response(data.data);
                        }
                    });
                },
                focus: function (event, ui) {
                    $("#txtKeyword").val(ui.item.label);
                    return false;
                },
                select: function (event, ui) {
                    $("#txtKeyword").val(ui.item.label);


                    return false;
                }
            })
                .autocomplete("instance")._renderItem = function (ul, item) {
                    return $("<li>")
                        .append("<div>" + item.label + "</div>")
                        .appendTo(ul);
                };
        }
    }
    comom.init();
</script>

<script>
    debugger
    var comom1 = {
        init: function () {
            comom1.registerEvent();
        },
        registerEvent: function () {
            $("#txtKeyword1").autocomplete({
                minLength: 0,
                source: function (request, response) {
                    $.ajax({
                        url: "/Default/ListWordViet",
                        dataType: "json",
                        data: {
                            a: request.term
                        },
                        success: function (data) {
                            response(data.data);
                        }
                    });
                },
                focus: function (event, ui) {
                    $("#txtKeyword1").val(ui.item.label);
                    return false;
                },
                select: function (event, ui) {
                    $("#txtKeyword1").val(ui.item.label);


                    return false;
                }
            })
                .autocomplete("instance")._renderItem = function (ul, item) {
                    return $("<li>")
                        .append("<div>" + item.label + "</div>")
                        .appendTo(ul);
                };
        }
    }
    comom1.init();
</script>

<script type="text/javascript">

    //$(document).ready(function () {
    //    $("#dichcau").load("/Default/TranslateID /?HidenDichCau =" + list + Trans);
    //});
    function Trans() {
        debugger
        var data = $("#HidenDichCau").val();
        var text = $("#txtInputTrans").val();
        if (data == "") {
            $("#HidenDichCau").val(text);

        }
        var list = $("#HidenDichCau").val().split(" ");
        //for (var i = 0; i < list.length; i++) {
        //    if (list[i] == text) {
        //        list.splice(i, 1);
        //        list.join(",");

        //    }
        //}
        //$("#HidenDichCau").val(list);
        var listwords = [];
        var sofileky = 0;
        $.ajax({
            async: false,
            url: '/Default/TranslateID/?HidenDichCau=' + list,
            dataType: "json",
            type: "GET",
            contentType: 'application/json; charset=utf-8',
            success: function (rs) {
                listwords = listwords;
                //sofileky = TransDone.length;
                //if (sofileky==0)
                //{
                //    //alert("Không có file nào đủ điều kiện ký số, hoặc chưa chọn file vui lòng kiểm tra lại");
                //}
                ////console.log('Done0' + data);
                ////alert(listwords)
                //alert(rs);
                /*var lisst = rs.split(" ");*/
                debugger
                /* var newrs = rs.split(',').join(' ');*/
                $("#textDich").val(rs);
                var listss = $("#textDich").val().replace(/\,/g, ' ');
                $("#textDich").val(listss);
                return 1;


            },
            error: function (xhr) {
                alert('error' + xhr);
            }

        });


        //alert(list);
    }


</script>